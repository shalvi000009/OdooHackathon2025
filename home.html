<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ReWear - Community Clothing Exchange</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* Header */
        header {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid rgba(255, 255, 255, 0.2);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem 0;
        }

        .logo {
            font-size: 1.8rem;
            font-weight: 700;
            color: white;
            text-decoration: none;
        }

        .nav-links {
            display: flex;
            gap: 2rem;
            list-style: none;
        }

        .nav-links a {
            color: white;
            text-decoration: none;
            font-weight: 500;
            transition: all 0.3s ease;
        }

        .nav-links a:hover {
            color: #ffd700;
        }

        .auth-buttons {
            display: flex;
            gap: 1rem;
        }

        .btn {
            padding: 0.75rem 1.5rem;
            border: none;
            border-radius: 50px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
            text-align: center;
        }

        .btn-primary {
            background: #ffd700;
            color: #333;
        }

        .btn-primary:hover {
            background: #ffed4a;
            transform: translateY(-2px);
        }

        .btn-secondary {
            background: transparent;
            color: white;
            border: 2px solid white;
        }

        .btn-secondary:hover {
            background: white;
            color: #667eea;
        }

        /* Main Content */
        .page {
            display: none;
            min-height: calc(100vh - 80px);
            padding: 2rem 0;
        }

        .page.active {
            display: block;
        }

        /* Landing Page */
        .hero {
            text-align: center;
            padding: 4rem 0;
            color: white;
        }

        .hero h1 {
            font-size: 3.5rem;
            margin-bottom: 1rem;
            font-weight: 700;
        }

        .hero p {
            font-size: 1.2rem;
            margin-bottom: 2rem;
            opacity: 0.9;
        }

        .cta-buttons {
            display: flex;
            gap: 1rem;
            justify-content: center;
            margin-bottom: 3rem;
        }

        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin-top: 3rem;
        }

        .feature-card {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 2rem;
            text-align: center;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .feature-card h3 {
            color: #ffd700;
            margin-bottom: 1rem;
        }

        .feature-card p {
            color: white;
            opacity: 0.9;
        }

        /* Item Grid */
        .items-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 2rem;
            margin-top: 2rem;
        }

        .item-card {
            background: white;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
            position: relative;
        }

        .item-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 215, 0, 0.2), transparent);
            transition: left 0.5s ease;
        }

        .item-card:hover::before {
            left: 100%;
        }

        .item-card:hover {
            transform: translateY(-10px) scale(1.02);
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.2);
        }

        .item-image {
            width: 100%;
            height: 200px;
            background: linear-gradient(45deg, #f0f0f0, #e0e0e0);
            display: flex;
            align-items: center;
            justify-content: center;
            color: #666;
            font-size: 3rem;
            position: relative;
            overflow: hidden;
        }

        .item-image::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(45deg, rgba(102, 126, 234, 0.1), rgba(118, 75, 162, 0.1));
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .item-card:hover .item-image::after {
            opacity: 1;
        }

        .item-info {
            padding: 1.5rem;
        }

        .item-title {
            font-size: 1.2rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
            color: #333;
        }

        .item-details {
            color: #666;
            margin-bottom: 1rem;
            font-size: 0.9rem;
        }

        .item-points {
            background: linear-gradient(45deg, #ffd700, #ffed4a);
            color: #333;
            padding: 0.25rem 0.75rem;
            border-radius: 20px;
            font-weight: 600;
            display: inline-block;
            margin-bottom: 1rem;
            box-shadow: 0 2px 10px rgba(255, 215, 0, 0.3);
        }

        .availability-badge {
            position: absolute;
            top: 1rem;
            right: 1rem;
            background: #28a745;
            color: white;
            padding: 0.25rem 0.75rem;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
        }

        .availability-badge.pending {
            background: #ffc107;
            color: #333;
        }

        .availability-badge.unavailable {
            background: #dc3545;
        }

        /* Forms */
        .form-container {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 2rem;
            max-width: 500px;
            margin: 2rem auto;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 600;
            color: #333;
        }

        .form-group input,
        .form-group textarea,
        .form-group select {
            width: 100%;
            padding: 0.75rem;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            font-size: 1rem;
            transition: border-color 0.3s ease;
        }

        .form-group input:focus,
        .form-group textarea:focus,
        .form-group select:focus {
            outline: none;
            border-color: #667eea;
        }

        .form-group textarea {
            min-height: 120px;
            resize: vertical;
        }

        /* Dashboard */
        .dashboard {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 2rem;
            margin: 2rem 0;
        }

        .dashboard-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
            padding-bottom: 1rem;
            border-bottom: 2px solid #e0e0e0;
        }

        .user-info {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .user-avatar {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: linear-gradient(45deg, #667eea, #764ba2);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.5rem;
            font-weight: 600;
        }

        .points-badge {
            background: #ffd700;
            color: #333;
            padding: 0.5rem 1rem;
            border-radius: 25px;
            font-weight: 600;
            font-size: 1.1rem;
        }

        .dashboard-sections {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
        }

        .dashboard-section {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 1.5rem;
        }

        .dashboard-section h3 {
            margin-bottom: 1rem;
            color: #333;
        }

        /* Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 1000;
            backdrop-filter: blur(5px);
        }

        .modal.active {
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .modal-content {
            background: white;
            border-radius: 20px;
            padding: 2rem;
            max-width: 500px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
            position: relative;
        }

        .modal-close {
            position: absolute;
            top: 1rem;
            right: 1rem;
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: #666;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .nav-links {
                display: none;
            }

            .hero h1 {
                font-size: 2.5rem;
            }

            .cta-buttons {
                flex-direction: column;
                align-items: center;
            }

            .dashboard-header {
                flex-direction: column;
                gap: 1rem;
                text-align: center;
            }
        }

        /* Animations */
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .fade-in {
            animation: fadeIn 0.6s ease-out;
        }

        /* Admin Panel */
        .admin-panel {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 2rem;
            margin: 2rem 0;
        }

        .admin-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
            padding-bottom: 1rem;
            border-bottom: 2px solid #e0e0e0;
        }

        .admin-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-bottom: 2rem;
        }

        .stat-card {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 1.5rem;
            text-align: center;
        }

        .stat-number {
            font-size: 2rem;
            font-weight: 700;
            color: #667eea;
            margin-bottom: 0.5rem;
        }

        .pending-items {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            border-radius: 10px;
            padding: 1rem;
            margin-bottom: 1rem;
        }

        .pending-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem;
            border-bottom: 1px solid #e0e0e0;
        }

        .pending-item:last-child {
            border-bottom: none;
        }

        .item-actions {
            display: flex;
            gap: 0.5rem;
        }

        .btn-approve {
            background: #28a745;
            color: white;
            padding: 0.5rem 1rem;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }

        .btn-reject {
            background: #dc3545;
            color: white;
            padding: 0.5rem 1rem;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }

        /* Chatbot Widget */
        #aiChatbotWidget {
            position: fixed;
            bottom: 30px;
            right: 30px;
            z-index: 2000;
        }

        #openChatbotBtn {
            background: #ffd700;
            color: #333;
            border: none;
            border-radius: 50%;
            width: 60px;
            height: 60px;
            font-size: 2rem;
            box-shadow: 0 4px 16px rgba(0,0,0,0.2);
            cursor: pointer;
        }

        #chatbotWindow {
            display: none;
            flex-direction: column;
            width: 350px;
            height: 450px;
            background: white;
            border-radius: 20px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.2);
            overflow: hidden;
        }

        #chatbotWindow .header {
            background: #ffd700;
            color: #333;
            padding: 1rem;
            font-weight: bold;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        #chatbotMessages {
            flex: 1;
            padding: 1rem;
            overflow-y: auto;
            background: #faf8ef;
        }

        #chatbotForm {
            display: flex;
            border-top: 1px solid #eee;
        }

        #chatbotInput {
            flex: 1;
            border: none;
            padding: 1rem;
            font-size: 1rem;
            outline: none;
        }

        /* End Chatbot Widget */
    </style>
</head>
<body>
    <header>
        <nav class="container">
            <a href="#" class="logo" onclick="showPage('landing')">ReWear</a>
            <ul class="nav-links">
                <li><a href="#" onclick="showPage('browse')">Browse Items</a></li>
                <li><a href="#" onclick="showPage('add-item')">List an Item</a></li>
                <li><a href="#" onclick="showPage('dashboard')">Dashboard</a></li>
            </ul>
            <div class="auth-buttons">
                <button class="btn btn-secondary" onclick="showModal('loginModal')">Login</button>
                <button class="btn btn-primary" onclick="showModal('signupModal')">Sign Up</button>
            </div>
        </nav>
    </header>

    <main>
        <!-- Landing Page -->
        <div id="landing" class="page active">
            <div class="container">
                <div class="hero">
                    <h1>ReWear Community</h1>
                    <p>Sustainable fashion through clothing exchange. Give your clothes a second life!</p>
                    <div class="cta-buttons">
                        <button class="btn btn-primary" onclick="showPage('browse')">Start Swapping</button>
                        <button class="btn btn-secondary" onclick="showPage('browse')">Browse Items</button>
                    </div>
                </div>

                <div class="features-grid">
                    <div class="feature-card">
                        <h3>🔄 Easy Swapping</h3>
                        <p>Exchange clothes directly with other users or use our point-based system for flexible trading. No complex negotiations needed!</p>
                    </div>
                    <div class="feature-card">
                        <h3>🌱 Sustainable Fashion</h3>
                        <p>Reduce textile waste and promote circular fashion by giving clothes a second chance. Every swap helps save our planet!</p>
                    </div>
                    <div class="feature-card">
                        <h3>💎 Quality Guarantee</h3>
                        <p>All items are moderated by our team to ensure quality and appropriateness for our community. Shop with confidence!</p>
                    </div>
                    <div class="feature-card">
                        <h3>🎯 Smart Matching</h3>
                        <p>Our intelligent system helps you find items that match your style preferences and size requirements perfectly.</p>
                    </div>
                    <div class="feature-card">
                        <h3>🏆 Earn Rewards</h3>
                        <p>Earn points for every item you list and every successful swap. Use points to get premium items from our collection.</p>
                    </div>
                    <div class="feature-card">
                        <h3>👥 Community First</h3>
                        <p>Join a passionate community of fashion enthusiasts who believe in sustainable style and conscious consumption.</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Browse Items Page -->
        <div id="browse" class="page">
            <div class="container">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem;">
                    <h2 style="color: white;">Browse Available Items</h2>
                    <div style="display: flex; gap: 1rem;">
                        <select id="categoryFilter" style="padding: 0.5rem; border-radius: 25px; border: none;">
                            <option value="">All Categories</option>
                            <option value="tops">Tops</option>
                            <option value="bottoms">Bottoms</option>
                            <option value="dresses">Dresses</option>
                            <option value="shoes">Shoes</option>
                            <option value="accessories">Accessories</option>
                            <option value="outerwear">Outerwear</option>
                        </select>
                        <select id="sizeFilter" style="padding: 0.5rem; border-radius: 25px; border: none;">
                            <option value="">All Sizes</option>
                            <option value="xs">XS</option>
                            <option value="s">S</option>
                            <option value="m">M</option>
                            <option value="l">L</option>
                            <option value="xl">XL</option>
                            <option value="xxl">XXL</option>
                        </select>
                        <input type="text" id="searchInput" placeholder="Search items..." style="padding: 0.5rem 1rem; border-radius: 25px; border: none; width: 200px;">
                    </div>
                </div>
                <div class="items-grid" id="itemsGrid">
                    <!-- Items will be populated here -->
                </div>
            </div>
        </div>

        <!-- Add Item Page -->
        <div id="add-item" class="page">
            <div class="container">
                <div class="form-container">
                    <h2 style="margin-bottom: 2rem; text-align: center;">List a New Item</h2>
                    <form id="addItemForm">
                        <div class="form-group">
                            <label for="itemTitle">Item Title</label>
                            <input type="text" id="itemTitle" name="title" required>
                        </div>
                        <div class="form-group">
                            <label for="itemDescription">Description</label>
                            <textarea id="itemDescription" name="description" required></textarea>
                        </div>
                        <div class="form-group">
                            <label for="itemCategory">Category</label>
                            <select id="itemCategory" name="category" required>
                                <option value="">Select Category</option>
                                <option value="tops">Tops</option>
                                <option value="bottoms">Bottoms</option>
                                <option value="dresses">Dresses</option>
                                <option value="shoes">Shoes</option>
                                <option value="accessories">Accessories</option>
                                <option value="outerwear">Outerwear</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="itemSize">Size</label>
                            <select id="itemSize" name="size" required>
                                <option value="">Select Size</option>
                                <option value="xs">XS</option>
                                <option value="s">S</option>
                                <option value="m">M</option>
                                <option value="l">L</option>
                                <option value="xl">XL</option>
                                <option value="xxl">XXL</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="itemCondition">Condition</label>
                            <select id="itemCondition" name="condition" required>
                                <option value="">Select Condition</option>
                                <option value="new">New with tags</option>
                                <option value="like-new">Like new</option>
                                <option value="good">Good condition</option>
                                <option value="fair">Fair condition</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="itemTags">Tags (comma-separated)</label>
                            <input type="text" id="itemTags" name="tags" placeholder="casual, summer, cotton">
                        </div>
                        <button type="submit" class="btn btn-primary" style="width: 100%;">List Item</button>
                    </form>
                </div>
            </div>
        </div>

        <!-- Dashboard Page -->
        <div id="dashboard" class="page">
            <div class="container">
                <div class="dashboard">
                    <div class="dashboard-header">
                        <div class="user-info">
                            <div class="user-avatar">JD</div>
                            <div>
                                <h3>John Doe</h3>
                                <p>Member since March 2024</p>
                            </div>
                        </div>
                        <div class="points-badge">
                            <span id="userPoints">125</span> Points
                        </div>
                    </div>

                    <div class="dashboard-sections">
                        <div class="dashboard-section">
                            <h3>Your Items</h3>
                            <div id="userItems">
                                <div class="item-card" style="margin-bottom: 1rem;">
                                    <div class="item-image">👕</div>
                                    <div class="item-info">
                                        <div class="item-title">Vintage Denim Jacket</div>
                                        <div class="item-details">Size: M • Condition: Good</div>
                                        <div class="item-points">50 Points</div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="dashboard-section">
                            <h3>Active Swaps</h3>
                            <div id="activeSwaps">
                                <p>No active swaps yet. <a href="#" onclick="showPage('browse')">Browse items</a> to start swapping!</p>
                            </div>
                        </div>

                        <div class="dashboard-section">
                            <h3>Swap History</h3>
                            <div id="swapHistory">
                                <p>No completed swaps yet.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Admin Panel -->
        <div id="admin" class="page">
            <div class="container">
                <div class="admin-panel">
                    <div class="admin-header">
                        <h2>Admin Panel</h2>
                        <button class="btn btn-secondary" onclick="showPage('dashboard')">Back to Dashboard</button>
                    </div>

                    <div class="admin-stats">
                        <div class="stat-card">
                            <div class="stat-number">247</div>
                            <div>Total Items</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-number">15</div>
                            <div>Pending Approval</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-number">186</div>
                            <div>Active Users</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-number">92</div>
                            <div>Completed Swaps</div>
                        </div>
                    </div>

                    <div class="pending-items">
                        <h3>Pending Items for Approval</h3>
                        <div class="pending-item">
                            <div>
                                <strong>Red Summer Dress</strong>
                                <br>
                                <small>Submitted by: @fashionista23</small>
                            </div>
                            <div class="item-actions">
                                <button class="btn-approve" onclick="approveItem(1)">Approve</button>
                                <button class="btn-reject" onclick="rejectItem(1)">Reject</button>
                            </div>
                        </div>
                        <div class="pending-item">
                            <div>
                                <strong>Designer Sneakers</strong>
                                <br>
                                <small>Submitted by: @sneakerhead</small>
                            </div>
                            <div class="item-actions">
                                <button class="btn-approve" onclick="approveItem(2)">Approve</button>
                                <button class="btn-reject" onclick="rejectItem(2)">Reject</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Login Modal -->
    <div id="loginModal" class="modal">
        <div class="modal-content">
            <button class="modal-close" onclick="hideModal('loginModal')">&times;</button>
            <h2 style="margin-bottom: 2rem; text-align: center;">Login</h2>
            <form id="loginForm">
                <div class="form-group">
                    <label for="loginEmail">Email</label>
                    <input type="email" id="loginEmail" name="email" required>
                </div>
                <div class="form-group">
                    <label for="loginPassword">Password</label>
                    <input type="password" id="loginPassword" name="password" required>
                </div>
                <button type="submit" class="btn btn-primary" style="width: 100%;">Login</button>
            </form>
        </div>
    </div>

    <!-- Signup Modal -->
    <div id="signupModal" class="modal">
        <div class="modal-content">
            <button class="modal-close" onclick="hideModal('signupModal')">&times;</button>
            <h2 style="margin-bottom: 2rem; text-align: center;">Sign Up</h2>
            <form id="signupForm">
                <div class="form-group">
                    <label for="signupName">Full Name</label>
                    <input type="text" id="signupName" name="name" required>
                </div>
                <div class="form-group">
                    <label for="signupEmail">Email</label>
                    <input type="email" id="signupEmail" name="email" required>
                </div>
                <div class="form-group">
                    <label for="signupPassword">Password</label>
                    <input type="password" id="signupPassword" name="password" required>
                </div>
                <div class="form-group">
                    <label for="signupConfirmPassword">Confirm Password</label>
                    <input type="password" id="signupConfirmPassword" name="confirmPassword" required>
                </div>
                <button type="submit" class="btn btn-primary" style="width: 100%;">Sign Up</button>
            </form>
        </div>
    </div>

    <!-- AI Chatbot Widget -->
    <div id="aiChatbotWidget" style="position: fixed; bottom: 30px; right: 30px; z-index: 2000;">
        <button id="openChatbotBtn" style="background: #ffd700; color: #333; border: none; border-radius: 50%; width: 60px; height: 60px; font-size: 2rem; box-shadow: 0 4px 16px rgba(0,0,0,0.2); cursor: pointer;">
            💬
        </button>
        <div id="chatbotWindow" style="display: none; flex-direction: column; width: 350px; height: 450px; background: white; border-radius: 20px; box-shadow: 0 8px 32px rgba(0,0,0,0.2); overflow: hidden;">
            <div style="background: #ffd700; color: #333; padding: 1rem; font-weight: bold; display: flex; justify-content: space-between; align-items: center;">
                Jarves AI
                <button id="closeChatbotBtn" style="background: none; border: none; font-size: 1.2rem; cursor: pointer;">&times;</button>
            </div>
            <div id="chatbotMessages" style="flex: 1; padding: 1rem; overflow-y: auto; background: #faf8ef;"></div>
            <form id="chatbotForm" style="display: flex; border-top: 1px solid #eee;">
                <input id="chatbotInput" type="text" placeholder="Ask me anything..." style="flex: 1; border: none; padding: 1rem; font-size: 1rem; outline: none;">
                <button type="submit" style="background: #ffd700; color: #333; border: none; padding: 0 1.5rem; font-size: 1.2rem; cursor: pointer;">➤</button>
            </form>
        </div>
    </div>

    <script>
        // Global state
        let currentUser = null;
        let userPoints = 125;
        let items = [
            {
                id: 1,
                title: "Vintage Denim Jacket",
                description: "Classic blue denim jacket in excellent condition",
                category: "outerwear",
                size: "M",
                condition: "good",
                points: 50,
                emoji: "🧥",
                owner: "fashionista23"
            },
            {
                id: 2,
                title: "Summer Floral Dress",
                description: "Light and airy dress perfect for summer",
                category: "dresses",
                size: "S",
                condition: "like-new",
                points: 40,
                emoji: "👗",
                owner: "summergirl"
            },
            {
                id: 3,
                title: "Designer Sneakers",
                description: "Barely worn designer sneakers",
                category: "shoes",
                size: "L",
                condition: "like-new",
                points: 80,
                emoji: "👟",
                owner: "sneakerhead"
            },
            {
                id: 4,
                title: "Cozy Wool Sweater",
                description: "Warm and comfortable wool sweater",
                category: "tops",
                size: "L",
                condition: "good",
                points: 35,
                emoji: "🧶",
                owner: "knitlover"
            },
            {
                id: 5,
                title: "Black Leather Boots",
                description: "Stylish ankle boots in great condition",
                category: "shoes",
                size: "M",
                condition: "good",
                points: 60,
                emoji: "👢",
                owner: "bootcollector"
            },
            {
                id: 6,
                title: "Silk Scarf",
                description: "Elegant silk scarf with floral pattern",
                category: "accessories",
                size: "One Size",
                condition: "new",
                points: 25,
                emoji: "🧣",
                owner: "accessorize"
            }
        ];

        // Navigation functions
        function showPage(pageId) {
            document.querySelectorAll('.page').forEach(page => {
                page.classList.remove('active');
            });
            document.getElementById(pageId).classList.add('active');
            
            if (pageId === 'browse') {
                renderItems();
            }
        }

        function showModal(modalId) {
            document.getElementById(modalId).classList.add('active');
        }

        function hideModal(modalId) {
            document.getElementById(modalId).classList.remove('active');
        }

        // Render items with filtering
        function renderItems(filteredItems = null) {
            const grid = document.getElementById('itemsGrid');
            grid.innerHTML = '';
            
            const itemsToRender = filteredItems || items.filter(item => item.status !== 'pending');
            
            if (itemsToRender.length === 0) {
                grid.innerHTML = '<div style="color: white; text-align: center; grid-column: 1 / -1; padding: 2rem;">No items found matching your criteria.</div>';
                return;
            }
            
            itemsToRender.forEach(item => {
                const itemCard = document.createElement('div');
                itemCard.className = 'item-card fade-in';
                itemCard.innerHTML = `
                    <div class="availability-badge ${item.status || 'available'}">${item.status || 'Available'}</div>
                    <div class="item-image">${item.emoji}</div>
                    <div class="item-info">
                        <div class="item-title">${item.title}</div>
                        <div class="item-details">Size: ${item.size} • Condition: ${item.condition}</div>
                        <div class="item-details">Owner: @${item.owner}</div>
                        <div class="item-points">${item.points} Points</div>
                        <button class="btn btn-primary" onclick="requestSwap(${item.id})" style="width: 100%; margin-top: 1rem;">
                            ${userPoints >= item.points ? 'Request Swap' : 'Not Enough Points'}
                        </button>
                    </div>
                `;
                grid.appendChild(itemCard);
            });
        }

        // Add filtering functionality
        function setupFilters() {
            const categoryFilter = document.getElementById('categoryFilter');
            const sizeFilter = document.getElementById('sizeFilter');
            const searchInput = document.getElementById('searchInput');

            function applyFilters() {
                let filteredItems = items.filter(item => item.status !== 'pending');

                if (categoryFilter.value) {
                    filteredItems = filteredItems.filter(item => item.category === categoryFilter.value);
                }

                if (sizeFilter.value) {
                    filteredItems = filteredItems.filter(item => item.size.toLowerCase() === sizeFilter.value);
                }

                if (searchInput.value) {
                    const searchTerm = searchInput.value.toLowerCase();
                    filteredItems = filteredItems.filter(item => 
                        item.title.toLowerCase().includes(searchTerm) ||
                        item.description.toLowerCase().includes(searchTerm) ||
                        (item.tags && item.tags.toLowerCase().includes(searchTerm))
                    );
                }

                renderItems(filteredItems);
            }

            categoryFilter.addEventListener('change', applyFilters);
            sizeFilter.addEventListener('change', applyFilters);
            searchInput.addEventListener('input', applyFilters);
        }

        // Form handlers
        document.getElementById('loginForm').addEventListener('submit', function(e) {
            e.preventDefault();
            const email = document.getElementById('loginEmail').value;
            const password = document.getElementById('loginPassword').value;
            
            // Simple authentication simulation
            if (email === 'admin@rewear.com' && password === 'admin') {
                currentUser = { name: 'Admin', email: email, role: 'admin' };
                document.querySelector('.nav-links').innerHTML += '<li><a href="#" onclick="showPage(\'admin\')">Admin Panel</a></li>';
            } else {
                currentUser = { name: 'John Doe', email: email, role: 'user' };
            }
            
            // Update UI
            document.querySelector('.auth-buttons').innerHTML = `
                <span style="color: white; margin-right: 1rem;">Welcome, ${currentUser.name}!</span>
                <button class="btn btn-secondary" onclick="logout()">Logout</button>
            `;
            
            hideModal('loginModal');
            showPage('dashboard');
        });

        document.getElementById('signupForm').addEventListener('submit', function(e) {
            e.preventDefault();
            const name = document.getElementById('signupName').value;
            const email = document.getElementById('signupEmail').value;
            const password = document.getElementById('signupPassword').value;
            const confirmPassword = document.getElementById('signupConfirmPassword').value;
            
            if (password !== confirmPassword) {
                alert('Passwords do not match!');
                return;
            }
            
            currentUser = { name: name, email: email, role: 'user' };
            
            // Update UI
            document.querySelector('.auth-buttons').innerHTML = `
                <span style="color: white; margin-right: 1rem;">Welcome, ${currentUser.name}!</span>
                <button class="btn btn-secondary" onclick="logout()">Logout</button>
            `;
            
            hideModal('signupModal');
            showPage('dashboard');
        });

        document.getElementById('addItemForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const formData = new FormData(e.target);
            const newItem = {
                id: items.length + 1,
                title: formData.get('title'),
                description: formData.get('description'),
                category: formData.get('category'),
                size: formData.get('size'),
                condition: formData.get('condition'),
                tags: formData.get('tags'),
                points: calculatePoints(formData.get('condition')),
                emoji: getCategoryEmoji(formData.get('category')),
                owner: currentUser ? currentUser.name : 'Anonymous',
                status: 'pending'
            };
            
            items.push(newItem);
            alert('Item submitted for approval!');
            e.target.reset();
            showPage('dashboard');
        });

        // Utility functions
        function calculatePoints(condition) {
            const pointsMap = {
                'new': 100,
                'like-new': 80,
                'good': 60,
                'fair': 40
            };
            return pointsMap[condition] || 50;
        }

        function getCategoryEmoji(category) {
            const emojiMap = {
                'tops': '👕',
                'bottoms': '👖',
                'dresses': '👗',
                'shoes': '👟',
                'accessories': '🧣',
                'outerwear': '🧥'
            };
            return emojiMap[category] || '👕';
        }

        function requestSwap(itemId) {
            if (!currentUser) {
                showNotification('Please login to request a swap!', 'error');
                showModal('loginModal');
                return;
            }
            
            const item = items.find(i => i.id === itemId);
            if (item) {
                if (userPoints >= item.points) {
                    if (confirm(`Would you like to swap for "${item.title}" for ${item.points} points?`)) {
                        userPoints -= item.points;
                        document.getElementById('userPoints').textContent = userPoints;
                        showNotification(`Swap request sent for "${item.title}"!`, 'success');
                        
                        // Add to active swaps
                        addActiveSwap(item);
                        
                        // Update item status
                        item.status = 'pending';
                        renderItems();
                    }
                } else {
                    showNotification(`You need ${item.points - userPoints} more points to request this swap.`, 'error');
                }
            }
        }

        function addActiveSwap(item) {
            const activeSwaps = document.getElementById('activeSwaps');
            const swapElement = document.createElement('div');
            swapElement.className = 'item-card';
            swapElement.style.marginBottom = '1rem';
            swapElement.innerHTML = `
                <div class="availability-badge pending">Pending</div>
                <div class="item-image">${item.emoji}</div>
                <div class="item-info">
                    <div class="item-title">${item.title}</div>
                    <div class="item-details">Requested from: @${item.owner}</div>
                    <div class="item-points">Points Used: ${item.points}</div>
                    <button class="btn btn-secondary" onclick="cancelSwap(${item.id})" style="width: 100%; margin-top: 1rem;">
                        Cancel Request
                    </button>
                </div>
            `;
            
            if (activeSwaps.querySelector('p')) {
                activeSwaps.innerHTML = '';
            }
            activeSwaps.appendChild(swapElement);
        }

        function cancelSwap(itemId) {
            if (confirm('Are you sure you want to cancel this swap request?')) {
                const item = items.find(i => i.id === itemId);
                if (item) {
                    userPoints += item.points;
                    document.getElementById('userPoints').textContent = userPoints;
                    item.status = 'available';
                    showNotification('Swap request cancelled. Points refunded.', 'success');
                    
                    // Remove from active swaps
                    const activeSwaps = document.getElementById('activeSwaps');
                    activeSwaps.innerHTML = '<p>No active swaps yet. <a href="#" onclick="showPage(\'browse\')">Browse items</a> to start swapping!</p>';
                    
                    renderItems();
                }
            }
        }

        function logout() {
            currentUser = null;
            userPoints = 125;
            document.querySelector('.auth-buttons').innerHTML = `
                <button class="btn btn-secondary" onclick="showModal('loginModal')">Login</button>
                <button class="btn btn-primary" onclick="showModal('signupModal')">Sign Up</button>
            `;
            
            // Remove admin panel link if it exists
            const adminLink = document.querySelector('a[onclick="showPage(\'admin\')"]');
            if (adminLink) {
                adminLink.parentElement.remove();
            }
            
            showPage('landing');
        }

        // Admin functions
        function approveItem(itemId) {
            if (confirm('Approve this item?')) {
                alert('Item approved and is now available for swapping!');
                // Remove from pending list
                const pendingItem = document.querySelector('.pending-item:nth-child(' + itemId + ')');
                if (pendingItem) {
                    pendingItem.remove();
                }
            }
        }

        function rejectItem(itemId) {
            if (confirm('Reject this item? This action cannot be undone.')) {
                alert('Item rejected and removed from the system.');
                // Remove from pending list
                const pendingItem = document.querySelector('.pending-item:nth-child(' + itemId + ')');
                if (pendingItem) {
                    pendingItem.remove();
                }
            }
        }

        // --- AI Chatbot Logic ---
        const openChatbotBtn = document.getElementById('openChatbotBtn');
        const chatbotWindow = document.getElementById('chatbotWindow');
        const closeChatbotBtn = document.getElementById('closeChatbotBtn');
        const chatbotForm = document.getElementById('chatbotForm');
        const chatbotInput = document.getElementById('chatbotInput');
        const chatbotMessages = document.getElementById('chatbotMessages');

        openChatbotBtn.onclick = () => {
            chatbotWindow.style.display = 'flex';
            openChatbotBtn.style.display = 'none';
        };
        closeChatbotBtn.onclick = () => {
            chatbotWindow.style.display = 'none';
            openChatbotBtn.style.display = 'block';
        };

        chatbotForm.onsubmit = async (e) => {
            e.preventDefault();
            const userMsg = chatbotInput.value.trim();
            if (!userMsg) return;
            appendChatMessage('You', userMsg);

            chatbotInput.value = '';
            appendChatMessage('Jarves', 'Typing...');

            // --- Call your AI API here ---
            try {
                // Example: Replace with your actual API endpoint and key
                const response = await fetch('https://api.openai.com/v1/chat/completions', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': 'Bearer YOUR_OPENAI_API_KEY' // Replace with your API key
                    },
                    body: JSON.stringify({
                        model: "gpt-3.5-turbo",
                        messages: [{ role: "user", content: userMsg }]
                    })
                });
                const data = await response.json();
                // Remove "Typing..." message
                chatbotMessages.lastChild.remove();
                if (data.choices && data.choices[0] && data.choices[0].message) {
                    appendChatMessage('Jarves', data.choices[0].message.content);
                } else {
                    appendChatMessage('Jarves', "Sorry, I couldn't understand that.");
                }
            } catch (err) {
                chatbotMessages.lastChild.remove();
                appendChatMessage('Jarves', "Sorry, there was an error connecting to the AI.");
            }
        };

        function appendChatMessage(sender, text) {
            const msgDiv = document.createElement('div');
            msgDiv.style.marginBottom = '1rem';
            msgDiv.innerHTML = `<strong>${sender}:</strong> <span style="white-space: pre-line;">${text}</span>`;
            chatbotMessages.appendChild(msgDiv);
            chatbotMessages.scrollTop = chatbotMessages.scrollHeight;
        }

        // Optional: Greet the user
        appendChatMessage('Jarves', 'Hi! I am Jarves, your AI assistant. How can I help you today?');

        // Initialize the app
        document.addEventListener('DOMContentLoaded', function() {
            renderItems();
            setupFilters();
            
            // Add smooth scrolling
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    const target = document.querySelector(this.getAttribute('href'));
                    if (target) {
                        target.scrollIntoView({
                            behavior: 'smooth'
                        });
                    }
                });
            });
            
            // Add notification system
            createNotificationSystem();
        });

        // Notification system
        function createNotificationSystem() {
            const notificationContainer = document.createElement('div');
            notificationContainer.id = 'notifications';
            notificationContainer.style.cssText = 
                'position: fixed;' +
                'top: 20px;' +
                'right: 20px;' +
                'z-index: 1001;' +
                'display: flex;' +
                'flex-direction: column;' +
                'gap: 10px;';
            document.body.appendChild(notificationContainer);
        }

        function showNotification(message, type = 'success') {
            const notification = document.createElement('div');
            const bgColor = type === 'success' ? '#28a745' : type === 'error' ? '#dc3545' : '#ffc107';
            notification.style.cssText = 
                'background: ' + bgColor + ';' +
                'color: white;' +
                'padding: 1rem 1.5rem;' +
                'border-radius: 10px;' +
                'box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);' +
                'transform: translateX(400px);' +
                'transition: transform 0.3s ease;' +
                'max-width: 300px;';
            notification.textContent = message;
            
            const container = document.getElementById('notifications');
            container.appendChild(notification);
            
            // Animate in
            setTimeout(() => {
                notification.style.transform = 'translateX(0)';
            }, 100);
            
            // Remove after 3 seconds
            setTimeout(() => {
                notification.style.transform = 'translateX(400px)';
                setTimeout(() => {
                    if (notification.parentNode) {
                        notification.parentNode.removeChild(notification);
                    }
                }, 300);
            }, 3000);
        }

        // Close modals when clicking outside
        document.addEventListener('click', function(e) {
            if (e.target.classList.contains('modal')) {
                e.target.classList.remove('active');
            }
        });

        // Keyboard navigation
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                document.querySelectorAll('.modal.active').forEach(modal => {
                    modal.classList.remove('active');
                });
            }
        });
    </script>
</body>
</html>